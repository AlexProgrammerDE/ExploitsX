package me.bait.exploitsx.util;

import me.bait.exploitsx.ExploitsX;
import me.bait.exploitsx.Messages;
import org.bukkit.Bukkit;
import org.bukkit.configuration.file.YamlConfiguration;

import java.io.*;
import java.util.ArrayList;
import java.util.List;

//-- // WARNING \\ -- 
//-- THIS WORK IS UNDER EXCLUSIVE COPRIGHT FOR BAITCORP LABS. DISTRIBUTION, MODIFICATION, SELLING, OR SHARING WITHOUT EXPLICIT PERMISSION FROM BAITCORP LABS IS STRICTLY PROHIBITED.
//-- THIS PROGRAM IS LICENSED FOR MODIFICATION TO AND ONLY TO: "BAITCORP LABS" [FR], "CCHOST PARIS" [FR].
//-- 
//-- DECOMPILING, COPYING OR REDISTRIBUTING THIS CODE IS A CRIME. IF YOU HAVE ANY QUESTIONS OR CONCERNS
//-- THEY MUST BE VOICED DIRECTLY TO BAITCORP EXECUTIVES BEFORE PERSONAL ACTION.
//-- 
//-- ExploitsX Sebastian Giheta 2019-2020
//-- //         \\ -- 

public class ConfigHelper {

	static File c = new File(Messages.getString("CH.0")); //$NON-NLS-1$
	static File l = new File(Messages.getString("CH.1")); //$NON-NLS-1$
	public static File d = new File(Messages.getString("CH.2")); //$NON-NLS-1$
	static YamlConfiguration cgold = YamlConfiguration
			.loadConfiguration(new InputStreamReader(ExploitsX.getPlugin().getResource(Messages.getString("CH.3")))); //$NON-NLS-1$
	static YamlConfiguration lgold = YamlConfiguration
			.loadConfiguration(new InputStreamReader(ExploitsX.getPlugin().getResource(Messages.getString("CH.4")))); //$NON-NLS-1$
	static YamlConfiguration dgold = YamlConfiguration
			.loadConfiguration(new InputStreamReader(ExploitsX.getPlugin().getResource(Messages.getString("CH.5")))); //$NON-NLS-1$

	private static void copy(InputStream in, File file) {
		try {
			OutputStream out = new FileOutputStream(file);
			byte[] buf = new byte[1024];
			int len;
			while ((len = in.read(buf)) > 0)
				out.write(buf, 0, len);
			out.close();
			in.close();
		} catch (Exception e) {
			e.printStackTrace();
		}
	}

	public static void enable() throws IOException {
		ExploitsX.getPlugin().saveDefaultConfig();
		if (!l.exists()) {
			copy(ExploitsX.getPlugin().getResource(Messages.getString("CH.6")), l); //$NON-NLS-1$
		}
		if (!d.exists()) {
			copy(ExploitsX.getPlugin().getResource(Messages.getString("CH.7")), d); //$NON-NLS-1$
		}
	}

	public static boolean getBoolean(String val) {
		String type = Messages.getString("CH.8"); //$NON-NLS-1$
		YamlConfiguration cy = YamlConfiguration.loadConfiguration(c);
		YamlConfiguration ly = YamlConfiguration.loadConfiguration(l);
		YamlConfiguration dy = YamlConfiguration.loadConfiguration(d);
		if (val == null)
			return false;
		if (cy.contains(val)) {
			return cy.getBoolean(val);
		} else if (ly.contains(val)) {
			return ly.getBoolean(val);
		} else if (dy.contains(val)) {
			return dy.getBoolean(val);
		} else {
			Bukkit.getLogger().warning(Messages.getString("CH.9") + val //$NON-NLS-1$
					+ Messages.getString("CH.10") + type + Messages.getString("CH.11")); //$NON-NLS-1$ //$NON-NLS-2$
			if (cgold.contains(val)) {
				return cgold.getBoolean(val);
			} else if (lgold.contains(val)) {
				return lgold.getBoolean(val);
			} else if (dgold.contains(val)) {
				return dgold.getBoolean(val);
			} else {
				Bukkit.getLogger().warning(Messages.getString("CH.12") //$NON-NLS-1$
						+ val + Messages.getString("CH.13") + type + Messages.getString("CH.14")); //$NON-NLS-1$ //$NON-NLS-2$
				return false;
			}
		}
	}

	public static boolean getBoolean(String val, Boolean e) {
		String type = Messages.getString("CH.15"); //$NON-NLS-1$
		YamlConfiguration cy = YamlConfiguration.loadConfiguration(c);
		YamlConfiguration ly = YamlConfiguration.loadConfiguration(l);
		YamlConfiguration dy = YamlConfiguration.loadConfiguration(d);
		if (val == null || e == null)
			return e;
		if (cy.contains(val)) {
			return cy.getBoolean(val);
		} else if (ly.contains(val)) {
			return ly.getBoolean(val);
		} else if (dy.contains(val)) {
			return dy.getBoolean(val);
		} else {
			Bukkit.getLogger().warning(Messages.getString("CH.16") + val + Messages.getString("CH.17") //$NON-NLS-1$ //$NON-NLS-2$
					+ type + Messages.getString("CH.18")); //$NON-NLS-1$
			return e;
		}
	}

	public static double getDouble(String val) {
		String type = Messages.getString("CH.19"); //$NON-NLS-1$
		YamlConfiguration cy = YamlConfiguration.loadConfiguration(c);
		YamlConfiguration ly = YamlConfiguration.loadConfiguration(l);
		YamlConfiguration dy = YamlConfiguration.loadConfiguration(d);
		if (val == null)
			return 0.0;
		if (cy.contains(val)) {
			return cy.getDouble(val);
		} else if (ly.contains(val)) {
			return ly.getDouble(val);
		} else if (dy.contains(val)) {
			return dy.getDouble(val);
		} else {
			Bukkit.getLogger().warning(Messages.getString("CH.20") + val //$NON-NLS-1$
					+ Messages.getString("CH.21") + type + Messages.getString("CH.22")); //$NON-NLS-1$ //$NON-NLS-2$
			if (cgold.contains(val)) {
				return cgold.getDouble(val);
			} else if (lgold.contains(val)) {
				return lgold.getDouble(val);
			} else if (dgold.contains(val)) {
				return dgold.getDouble(val);
			} else {
				Bukkit.getLogger().warning(Messages.getString("CH.23") //$NON-NLS-1$
						+ val + Messages.getString("CH.24") + type + Messages.getString("CH.25")); //$NON-NLS-1$ //$NON-NLS-2$
				return 0.0;
			}
		}
	}

	public static double getDouble(String val, double e) {
		String type = Messages.getString("CH.26"); //$NON-NLS-1$
		YamlConfiguration cy = YamlConfiguration.loadConfiguration(c);
		YamlConfiguration ly = YamlConfiguration.loadConfiguration(l);
		YamlConfiguration dy = YamlConfiguration.loadConfiguration(d);
		if (val == null)
			return e;
		if (cy.contains(val)) {
			return cy.getDouble(val);
		} else if (ly.contains(val)) {
			return ly.getDouble(val);
		} else if (dy.contains(val)) {
			return dy.getDouble(val);
		} else {
			Bukkit.getLogger().warning(Messages.getString("CH.27") + val + Messages.getString("CH.28") //$NON-NLS-1$ //$NON-NLS-2$
					+ type + Messages.getString("CH.29")); //$NON-NLS-1$
			return e;
		}
	}

	public static int getInt(String val) {
		String type = Messages.getString("CH.30"); //$NON-NLS-1$
		YamlConfiguration cy = YamlConfiguration.loadConfiguration(c);
		YamlConfiguration ly = YamlConfiguration.loadConfiguration(l);
		YamlConfiguration dy = YamlConfiguration.loadConfiguration(d);
		if (val == null)
			return 0;
		if (cy.contains(val)) {
			return cy.getInt(val);
		} else if (ly.contains(val)) {
			return ly.getInt(val);
		} else if (dy.contains(val)) {
			return dy.getInt(val);
		} else {
			Bukkit.getLogger().warning(Messages.getString("CH.31") + val //$NON-NLS-1$
					+ Messages.getString("CH.32") + type + Messages.getString("CH.33")); //$NON-NLS-1$ //$NON-NLS-2$
			if (cgold.contains(val)) {
				return cgold.getInt(val);
			} else if (lgold.contains(val)) {
				return lgold.getInt(val);
			} else if (dgold.contains(val)) {
				return dgold.getInt(val);
			} else {
				Bukkit.getLogger().warning(Messages.getString("CH.34") //$NON-NLS-1$
						+ val + Messages.getString("CH.35") + type + Messages.getString("CH.36")); //$NON-NLS-1$ //$NON-NLS-2$
				return 0;
			}
		}
	}

	public static int getInt(String val, int e) {
		String type = Messages.getString("CH.37"); //$NON-NLS-1$
		YamlConfiguration cy = YamlConfiguration.loadConfiguration(c);
		YamlConfiguration ly = YamlConfiguration.loadConfiguration(l);
		YamlConfiguration dy = YamlConfiguration.loadConfiguration(d);
		if (val == null)
			return e;
		if (cy.contains(val)) {
			return cy.getInt(val);
		} else if (ly.contains(val)) {
			return ly.getInt(val);
		} else if (dy.contains(val)) {
			return dy.getInt(val);
		} else {
			Bukkit.getLogger().warning(Messages.getString("CH.38") + val + Messages.getString("CH.39") //$NON-NLS-1$ //$NON-NLS-2$
					+ type + Messages.getString("CH.40")); //$NON-NLS-1$
			return e;
		}
	}

	public static String getString(String val) {
		String type = Messages.getString("CH.41"); //$NON-NLS-1$
		YamlConfiguration cy = YamlConfiguration.loadConfiguration(c);
		YamlConfiguration ly = YamlConfiguration.loadConfiguration(l);
		YamlConfiguration dy = YamlConfiguration.loadConfiguration(d);
		if (val == null)
			return Messages.getString("CH.42"); //$NON-NLS-1$
		if (cy.contains(val)) {
			return cy.getString(val);
		} else if (ly.contains(val)) {
			return ly.getString(val);
		} else if (dy.contains(val)) {
			return dy.getString(val);
		} else {
			Bukkit.getLogger().warning(Messages.getString("CH.43") + val //$NON-NLS-1$
					+ Messages.getString("CH.44") + type + Messages.getString("CH.45")); //$NON-NLS-1$ //$NON-NLS-2$
			if (cgold.contains(val)) {
				return cgold.getString(val);
			} else if (lgold.contains(val)) {
				return lgold.getString(val);
			} else if (dgold.contains(val)) {
				return dgold.getString(val);
			} else {
				Bukkit.getLogger().warning(Messages.getString("CH.46") //$NON-NLS-1$
						+ val + Messages.getString("CH.47") + type + Messages.getString("CH.48")); //$NON-NLS-1$ //$NON-NLS-2$
				return Messages.getString("CH.49"); //$NON-NLS-1$
			}
		}
	}

	public static String getString(String val, String e) {
		String type = Messages.getString("CH.50"); //$NON-NLS-1$
		YamlConfiguration cy = YamlConfiguration.loadConfiguration(c);
		YamlConfiguration ly = YamlConfiguration.loadConfiguration(l);
		YamlConfiguration dy = YamlConfiguration.loadConfiguration(d);
		if (val == null || e == null)
			return e;
		if (cy.contains(val)) {
			return cy.getString(val);
		} else if (ly.contains(val)) {
			return ly.getString(val);
		} else if (dy.contains(val)) {
			return dy.getString(val);
		} else {
			Bukkit.getLogger().warning(Messages.getString("CH.51") + val + Messages.getString("CH.52") //$NON-NLS-1$ //$NON-NLS-2$
					+ type + Messages.getString("CH.53")); //$NON-NLS-1$
			return e;
		}
	}

	public static List<String> getStringList(String val) {
		String type = Messages.getString("CH.54"); //$NON-NLS-1$
		List<String> list = new ArrayList<>();
		list.add(Messages.getString("CH.55")); //$NON-NLS-1$
		YamlConfiguration cy = YamlConfiguration.loadConfiguration(c);
		YamlConfiguration ly = YamlConfiguration.loadConfiguration(l);
		YamlConfiguration dy = YamlConfiguration.loadConfiguration(d);
		if (val == null)
			return list;
		if (cy.contains(val)) {
			return cy.getStringList(val);
		} else if (ly.contains(val)) {
			return ly.getStringList(val);
		} else if (dy.contains(val)) {
			return dy.getStringList(val);
		} else {
			Bukkit.getLogger().warning(Messages.getString("CH.56") + val //$NON-NLS-1$
					+ Messages.getString("CH.57") + type + Messages.getString("CH.58")); //$NON-NLS-1$ //$NON-NLS-2$
			if (cgold.contains(val)) {
				return cgold.getStringList(val);
			} else if (lgold.contains(val)) {
				return lgold.getStringList(val);
			} else if (dgold.contains(val)) {
				return dgold.getStringList(val);
			} else {
				Bukkit.getLogger().warning(Messages.getString("CH.59") //$NON-NLS-1$
						+ val + Messages.getString("CH.60") + type + Messages.getString("CH.61")); //$NON-NLS-1$ //$NON-NLS-2$
				return list;
			}
		}
	}

	public static List<String> getStringList(String val, List<String> e) {
		String type = Messages.getString("CH.62"); //$NON-NLS-1$
		YamlConfiguration cy = YamlConfiguration.loadConfiguration(c);
		YamlConfiguration ly = YamlConfiguration.loadConfiguration(l);
		YamlConfiguration dy = YamlConfiguration.loadConfiguration(d);
		if (val == null || e == null)
			return e;
		if (cy.contains(val)) {
			return cy.getStringList(val);
		} else if (ly.contains(val)) {
			return ly.getStringList(val);
		} else if (dy.contains(val)) {
			return dy.getStringList(val);
		} else {
			Bukkit.getLogger().warning(Messages.getString("CH.63") + val + Messages.getString("CH.64") //$NON-NLS-1$ //$NON-NLS-2$
					+ type + Messages.getString("CH.65")); //$NON-NLS-1$
			return e;
		}
	}
}
